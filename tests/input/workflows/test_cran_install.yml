project-dir: r6-test
config: r6-rproject.toml

test:
  steps:
  - name: "rv init"
    run: "rv init"
    thread: rv
 
  - name: "start R"
    run: "R"
    thread: r
  
  - name: "rv sync"
    run: "rv sync"
    thread: rv
    assert: "+ R6 (2.6.1, binary from https://packagemanager.posit.co/cran/2025-07-10)"
 
  - name: "Load R6 from rv"
    run: test_r6_load.R
    thread: r
    assert: "R6_VERSION: 2.6.1"

  - name: "Install old R6 from CRAN"
    run: install_old_r6.R
    thread: r

  - name: "Test old R6 version"
    run: test_r6_load.R
    thread: r
    assert: "R6_VERSION: 2.5.1"